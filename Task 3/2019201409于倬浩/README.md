# 乱搞改写器

读入`testdata/`的测试数据，生成一个可以编译通过的C程序`output.c`，生成的程序的每一行即为伪汇编代码,若想访问某个源程序对应的变量，可以去掉注释输出该变量对应的寄存器或内存编号。

检测正确性：使用另一个程序`convert.c`读入`testdata/`的测试数据，生成一个新的程序`output2.c`。钦定`output.c`和`output2.c`两个程序中参数a的值，并在原表达式对应的改写程序中输出表达式的值，只需比较每一步的表达式的值，即可检验正确性。

或者直接运行`checker.sh`，只需修改`checker.sh`中的参数`file`即可指定不同的输入文件。


为了和真正的函数调用保持一致，我将传入的参数a1,a2,a3在程序的最开始放入寄存器，表示传入的参数占用了3个寄存器。

写了个贪心算法，因为寄存器访问速度比较快，所以贪心策略就是将操作数尽量设置为寄存器，并且在寄存器使用完毕后进行回收。
寄存器占满后才会将变量放入内存，如果此时涉及到运算，会贪心的将某个元素转移到内存中。

有些小优化，可以减少操作次数，减少寄存器占用。